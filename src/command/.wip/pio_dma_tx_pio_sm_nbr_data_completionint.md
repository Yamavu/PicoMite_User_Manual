## PIO DMA TX pio, sm, nbr, data%() [,completioninterrupt] [,transfersize] [,loopbackcount]

of setting nbr to zero.data%() is the array that will either supply or receive the PIO data.The optional parameter completioninterrupt is the name of a MMBasicsubroutine rthat will be called when the DMA completes and in the case ofDMA_OUT the FIFO has been emptied.If the optional interrupt is not used then the status of the DMA can be checkedusing the functions: MM.INFO(PIO RX DMA) MM.INFO(PIO TX DMA)The optional parameter transfersize allows the user to override the normal 32-bit transfers and select 8, 16, or 32.The optional parameter loopbackcount specifies how many data items are to beread or written before the DMA starts again at the beginning of the buffer.The parameter must be a power of 2 between 2 and 32768.Due to a limitation in the RP2040/RP2350 if loopbackcount is used theMMBasic array must be aligned in memory to the number of bytes in the loop.Thus if the array is 64 integers long which is 512 bytes then the array must bealigned to a 512byte boundary in memory.All MMBasic arrays are aligned to a 256 byte boundary but to create an arraywhich is guaranteed to be aligned to a 512 byte boundary or greater the PIOMAKE RING BUFFER command must be used.If loopbackcount is set then “nbr” can be set to 0. In this case the transfer willrun continuously repeatedly filling the buffer until explicitly stopped.